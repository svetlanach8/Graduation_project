(()=>{"use strict";document.querySelectorAll(".header ul>li>a").forEach((e=>{e.addEventListener("click",(t=>{var l;t.preventDefault(),l=e.getAttribute("href"),document.querySelector(l).scrollIntoView({behavior:"smooth",block:"start"})}))})),(()=>{const e=document.querySelector("body"),t=e.querySelector(".modal-callback"),l=e.querySelector(".modal-overlay");e.addEventListener("click",(e=>{(e.target.closest(".header .callback-btn")||e.target.classList.contains("button-services")||e.target.classList.contains("img-wrapper"))&&(e.preventDefault(),t.style.display="block",l.style.display="block",(({timing:e,draw:t,duration:l})=>{let n=performance.now();requestAnimationFrame((function r(o){let a=(o-n)/l;a>1&&(a=1);let c=e(a);t(c),a<1&&requestAnimationFrame(r)}))})({duration:500,timing:e=>e,draw(e){t.style.opacity=e,l.style.opacity=e}})),(e.target.classList.contains("modal-overlay")||e.target.closest(".modal-close"))&&(e.preventDefault(),t.style.display="none",l.style.display="none")}))})(),(()=>{const e=document.querySelector(".accordeon"),t=()=>{const t=e.querySelectorAll(".element"),l=e.querySelectorAll(".element-content");t.forEach((e=>{e.classList.remove("active")})),l.forEach((e=>{e.style.display="none"}))};e.addEventListener("click",(e=>{const l=e.target.closest(".element");l.classList.contains("active")?t():(t(),l.classList.add("active"),l.lastElementChild.style.display="block")}))})(),(()=>{const e=document.createElement("div");try{const t=document.getElementById("callback-form"),l=t.querySelector("input[name=fio]"),n=t.querySelector("input[name=tel]");if(l.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-я]/,"")})),n.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^\d\+]/,"")})),!t)throw new Error("Верните форму на место, пожалуйста!");t.addEventListener("submit",(l=>{l.preventDefault(),(t=>{const l=t.querySelectorAll(".form-control"),n=new FormData(t),r={};var o;e.textContent="Идет отправка",t.append(e),n.forEach(((e,t)=>{r[t]=e})),(e=>{let t=!0;return(e.querySelector("input[name=tel]").value.length<6||e.querySelector("input[name=tel]").value.length>16||e.querySelector("input[name=fio]").value.length<2)&&(t=!1),t})(t)?(o=r,fetch("server.php",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{e.textContent="Отправлено",l.forEach((e=>{e.value=""}))})).catch((t=>{e.textContent="Ошибка"})):(alert("Введите необходимое количество символов \n Имя более 2 символов \n Телефон должен содержать от 6 до 16 цифр"),e.textContent="")})(t)}))}catch(e){console.log(e.message)}})(),(()=>{const e=document.querySelector(".up"),t=document.getElementById("services"),l=document.querySelector(".header-wrapper");let n,r;const o=e=>{e.style.display="none"},a=()=>{n>0?(window.scrollTo(0,n),n-=100,r=requestAnimationFrame(a)):(cancelAnimationFrame(r),window.scrollTo(0,0))};o(e),window.addEventListener("scroll",(()=>{window.scrollY>=t.offsetTop-l.clientHeight?e.style.display="block":o(e)})),e.addEventListener("click",(()=>{n=window.scrollY,a()}))})(),(()=>{const e=document.querySelectorAll(".top-slider .item"),t=document.querySelectorAll(".top-slider .table");let l,n=0;const r=(e,t,l)=>{e[t].classList.remove(l)},o=(e,t,l)=>{e[t].classList.add(l)};l=setInterval((()=>{r(e,n,"slider-item-active"),r(t,n,"active"),n++,n>=e.length&&(n=0),o(e,n,"slider-item-active"),o(t,n,"active")}),3e3)})(),(()=>{const e=document.querySelector(".swiper-container");new Swiper(e,{slidesPerView:1,spaceBetween:0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{500:{slidesPerView:2},767:{slidesPerView:3}}})})()})();