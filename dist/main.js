(()=>{"use strict";document.querySelectorAll(".header ul>li>a").forEach((e=>{e.addEventListener("click",(t=>{var l;t.preventDefault(),l=e.getAttribute("href"),document.querySelector(l).scrollIntoView({behavior:"smooth",block:"start"})}))})),(()=>{const e=document.querySelector("body"),t=e.querySelector(".modal-callback"),l=e.querySelector(".modal-overlay");e.addEventListener("click",(e=>{(e.target.closest(".header .callback-btn")||e.target.classList.contains("button-services")||e.target.classList.contains("img-wrapper"))&&(e.preventDefault(),t.style.display="block",l.style.display="block",(({timing:e,draw:t,duration:l})=>{let o=performance.now();requestAnimationFrame((function n(r){let c=(r-o)/l;c>1&&(c=1);let a=e(c);t(a),c<1&&requestAnimationFrame(n)}))})({duration:500,timing:e=>e,draw(e){t.style.opacity=e,l.style.opacity=e}})),(e.target.classList.contains("modal-overlay")||e.target.closest(".modal-close"))&&(e.preventDefault(),t.style.display="none",l.style.display="none")}))})(),(()=>{const e=document.querySelector(".accordeon"),t=()=>{const t=e.querySelectorAll(".element"),l=e.querySelectorAll(".element-content");t.forEach((e=>{e.classList.remove("active")})),l.forEach((e=>{e.style.display="none"}))};e.addEventListener("click",(e=>{const l=e.target.closest(".element");l.classList.contains("active")?t():(t(),l.classList.add("active"),l.lastElementChild.style.display="block")}))})(),(()=>{const e=document.createElement("div");try{const t=document.getElementById("callback-form");if(!t)throw new Error("Верните форму на место, пожалуйста!");t.addEventListener("submit",(l=>{l.preventDefault(),(t=>{const l=t.querySelectorAll(".form-control"),o=new FormData(t),n={};var r;e.textContent="Идет отправка",t.append(e),o.forEach(((e,t)=>{n[t]=e})),(e=>{let t=!0;return(/[^\d\+]/g.test(e.querySelector("input[name=tel]").value)||""===e.querySelector("input[name=tel]").value||/[^а-я]/gi.test(e.querySelector("input[name=fio]").value))&&(t=!1),t})(t)?(r=n,fetch("server.php",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{e.textContent="Отправлено",l.forEach((e=>{e.value=""}))})).catch((t=>{e.textContent="Ошибка"})):(alert("Введите корректные данные"),e.textContent="")})(t)}))}catch(e){console.log(e.message)}})(),(()=>{const e=document.querySelector(".up"),t=document.getElementById("services"),l=document.querySelector(".header-wrapper");let o,n;const r=e=>{e.style.display="none"},c=()=>{o>0?(window.scrollTo(0,o),o-=100,n=requestAnimationFrame(c)):(cancelAnimationFrame(n),window.scrollTo(0,0))};r(e),window.addEventListener("scroll",(()=>{window.scrollY>=t.offsetTop-l.clientHeight?e.style.display="block":r(e)})),e.addEventListener("click",(()=>{o=window.scrollY,c()}))})(),(()=>{const e=document.querySelectorAll(".top-slider .item"),t=document.querySelectorAll(".top-slider .table");let l,o=0;const n=(e,t,l)=>{e[t].classList.remove(l)},r=(e,t,l)=>{e[t].classList.add(l)};l=setInterval((()=>{n(e,o,"slider-item-active"),n(t,o,"active"),o++,o>=e.length&&(o=0),r(e,o,"slider-item-active"),r(t,o,"active")}),3e3)})(),(()=>{const e=document.querySelector(".swiper-container");new Swiper(e,{slidesPerView:3,spaceBetween:0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})})()})();